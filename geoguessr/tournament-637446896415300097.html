<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Geoguessr tournament</title>
    <meta name="description" content="Geoguessr tournament" />
    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""
    />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <style>
      #mapid {
        height: 640px;
      }
    </style>
  </head>

  <body>
      <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
              integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
              crossorigin=""></script>

  <div>
      <table class="table">
          <tr>
              <th>Player</th>
              <th>Points</th>
              <th>Eliminated in game</th>
              <th>R1</th>
              <th>R2</th>
              <th>R3</th>
              <th>R4</th>
              <th>R5</th>
          </tr>
          <tr>
              <td>Radu C</td>
              <td class="text-right">23299</td>
              <td class="text-right"></td>
              <td class="text-right">4965</td>
              <td class="text-right">3738</td>
              <td class="text-right">4868</td>
              <td class="text-right">4825</td>
              <td class="text-right">4903</td>
          </tr>
          <tr>
              <td>Kuahs </td>
              <td class="text-right">23016</td>
              <td class="text-right"></td>
              <td class="text-right">4967</td>
              <td class="text-right">4471</td>
              <td class="text-right">4493</td>
              <td class="text-right">4766</td>
              <td class="text-right">4319</td>
          </tr>
          <tr>
              <td>Altingwouk</td>
              <td class="text-right">22786</td>
              <td class="text-right"></td>
              <td class="text-right">4961</td>
              <td class="text-right">3866</td>
              <td class="text-right">4713</td>
              <td class="text-right">4867</td>
              <td class="text-right">4379</td>
          </tr>
          <tr>
              <td>The MAYO of Vorkuta</td>
              <td class="text-right">22672</td>
              <td class="text-right"></td>
              <td class="text-right">4803</td>
              <td class="text-right">4526</td>
              <td class="text-right">4328</td>
              <td class="text-right">4880</td>
              <td class="text-right">4135</td>
          </tr>
          <tr>
              <td>Topotic </td>
              <td class="text-right">22559</td>
              <td class="text-right"></td>
              <td class="text-right">4970</td>
              <td class="text-right">4376</td>
              <td class="text-right">4271</td>
              <td class="text-right">4704</td>
              <td class="text-right">4238</td>
          </tr>
          <tr>
              <td>AL Johns - Indianapolis</td>
              <td class="text-right">22200</td>
              <td class="text-right"></td>
              <td class="text-right">4748</td>
              <td class="text-right">4114</td>
              <td class="text-right">4976</td>
              <td class="text-right">4162</td>
              <td class="text-right">4200</td>
          </tr>
          <tr>
              <td>Toris B</td>
              <td class="text-right">21890</td>
              <td class="text-right"></td>
              <td class="text-right">4467</td>
              <td class="text-right">4547</td>
              <td class="text-right">4347</td>
              <td class="text-right">4818</td>
              <td class="text-right">3711</td>
          </tr>
          <tr>
              <td>Kurt</td>
              <td class="text-right">21857</td>
              <td class="text-right"></td>
              <td class="text-right">4496</td>
              <td class="text-right">4603</td>
              <td class="text-right">4370</td>
              <td class="text-right">4866</td>
              <td class="text-right">3522</td>
          </tr>
          <tr>
              <td>Canadian Pole Expert </td>
              <td class="text-right">21632</td>
              <td class="text-right">-</td>
              <td class="text-right">4430</td>
              <td class="text-right">3871</td>
              <td class="text-right">4473</td>
              <td class="text-right">4852</td>
              <td class="text-right">4006</td>
          </tr>
          <tr>
              <td>Apple</td>
              <td class="text-right">21517</td>
              <td class="text-right"></td>
              <td class="text-right">4930</td>
              <td class="text-right">4818</td>
              <td class="text-right">4858</td>
              <td class="text-right">2741</td>
              <td class="text-right">4170</td>
          </tr>
          <tr>
              <td>  </td>
              <td class="text-right">21262</td>
              <td class="text-right"></td>
              <td class="text-right">4746</td>
              <td class="text-right">4703</td>
              <td class="text-right">4150</td>
              <td class="text-right">4902</td>
              <td class="text-right">2761</td>
          </tr>
          <tr>
              <td>- P -</td>
              <td class="text-right">21240</td>
              <td class="text-right"></td>
              <td class="text-right">4967</td>
              <td class="text-right">3928</td>
              <td class="text-right">4664</td>
              <td class="text-right">4411</td>
              <td class="text-right">3270</td>
          </tr>
          <tr>
              <td>Sverre</td>
              <td class="text-right">20752</td>
              <td class="text-right"></td>
              <td class="text-right">4899</td>
              <td class="text-right">4770</td>
              <td class="text-right">4844</td>
              <td class="text-right">4010</td>
              <td class="text-right">2229</td>
          </tr>
          <tr>
              <td>Calzone</td>
              <td class="text-right">20674</td>
              <td class="text-right"></td>
              <td class="text-right">4965</td>
              <td class="text-right">3469</td>
              <td class="text-right">4632</td>
              <td class="text-right">3946</td>
              <td class="text-right">3662</td>
          </tr>
          <tr>
              <td>Wester Wobbes</td>
              <td class="text-right">20672</td>
              <td class="text-right"></td>
              <td class="text-right">4476</td>
              <td class="text-right">4297</td>
              <td class="text-right">4848</td>
              <td class="text-right">4690</td>
              <td class="text-right">2361</td>
          </tr>
          <tr>
              <td>SUNKEN IS PRETTY</td>
              <td class="text-right">20517</td>
              <td class="text-right"></td>
              <td class="text-right">4169</td>
              <td class="text-right">4506</td>
              <td class="text-right">4995</td>
              <td class="text-right">4846</td>
              <td class="text-right">2001</td>
          </tr>
          <tr>
              <td>Luxlad </td>
              <td class="text-right">20488</td>
              <td class="text-right"></td>
              <td class="text-right">4411</td>
              <td class="text-right">4017</td>
              <td class="text-right">4814</td>
              <td class="text-right">3805</td>
              <td class="text-right">3441</td>
          </tr>
          <tr>
              <td>Karl MarXmas</td>
              <td class="text-right">20424</td>
              <td class="text-right">-</td>
              <td class="text-right">4748</td>
              <td class="text-right">4473</td>
              <td class="text-right">4648</td>
              <td class="text-right">4397</td>
              <td class="text-right">2158</td>
          </tr>
          <tr>
              <td>HugoAlvara2</td>
              <td class="text-right">20241</td>
              <td class="text-right"></td>
              <td class="text-right">4966</td>
              <td class="text-right">4437</td>
              <td class="text-right">4470</td>
              <td class="text-right">4560</td>
              <td class="text-right">1808</td>
          </tr>
          <tr>
              <td>:P</td>
              <td class="text-right">19988</td>
              <td class="text-right"></td>
              <td class="text-right">4903</td>
              <td class="text-right">4181</td>
              <td class="text-right">4333</td>
              <td class="text-right">3859</td>
              <td class="text-right">2712</td>
          </tr>
          <tr>
              <td>Geomane10K</td>
              <td class="text-right">19937</td>
              <td class="text-right"></td>
              <td class="text-right">4568</td>
              <td class="text-right">3531</td>
              <td class="text-right">4519</td>
              <td class="text-right">4727</td>
              <td class="text-right">2592</td>
          </tr>
          <tr>
              <td>The Queen of the UK</td>
              <td class="text-right">19593</td>
              <td class="text-right"></td>
              <td class="text-right">4967</td>
              <td class="text-right">2863</td>
              <td class="text-right">4828</td>
              <td class="text-right">4743</td>
              <td class="text-right">2192</td>
          </tr>
          <tr>
              <td>sunkencity64</td>
              <td class="text-right">18697</td>
              <td class="text-right"></td>
              <td class="text-right">3579</td>
              <td class="text-right">4411</td>
              <td class="text-right">4852</td>
              <td class="text-right">3578</td>
              <td class="text-right">2277</td>
          </tr>
          <tr>
              <td>Giovanni1798p</td>
              <td class="text-right">18638</td>
              <td class="text-right"></td>
              <td class="text-right">4971</td>
              <td class="text-right">3696</td>
              <td class="text-right">1604</td>
              <td class="text-right">4655</td>
              <td class="text-right">3712</td>
          </tr>
          <tr>
              <td>Nightey</td>
              <td class="text-right">18488</td>
              <td class="text-right"></td>
              <td class="text-right">4664</td>
              <td class="text-right">4291</td>
              <td class="text-right">4748</td>
              <td class="text-right">4785</td>
              <td class="text-right">0</td>
          </tr>
          <tr>
              <td>AxelBaxel</td>
              <td class="text-right">17846</td>
              <td class="text-right"></td>
              <td class="text-right">3617</td>
              <td class="text-right">3147</td>
              <td class="text-right">4065</td>
              <td class="text-right">4730</td>
              <td class="text-right">2287</td>
          </tr>
          <tr>
              <td>morqk</td>
              <td class="text-right">17711</td>
              <td class="text-right"></td>
              <td class="text-right">4608</td>
              <td class="text-right">1420</td>
              <td class="text-right">4275</td>
              <td class="text-right">4102</td>
              <td class="text-right">3306</td>
          </tr>
          <tr>
              <td>busstop</td>
              <td class="text-right">17506</td>
              <td class="text-right"></td>
              <td class="text-right">4404</td>
              <td class="text-right">2310</td>
              <td class="text-right">4656</td>
              <td class="text-right">4456</td>
              <td class="text-right">1680</td>
          </tr>
          <tr>
              <td>slashP</td>
              <td class="text-right">17216</td>
              <td class="text-right"></td>
              <td class="text-right">4149</td>
              <td class="text-right">4121</td>
              <td class="text-right">1650</td>
              <td class="text-right">4752</td>
              <td class="text-right">2544</td>
          </tr>
          <tr>
              <td>Damianos_Gz</td>
              <td class="text-right">11634</td>
              <td class="text-right">-</td>
              <td class="text-right">1073</td>
              <td class="text-right">3547</td>
              <td class="text-right">401</td>
              <td class="text-right">4424</td>
              <td class="text-right">2189</td>
          </tr>
          <tr>
              <td>Intense</td>
              <td class="text-right">21</td>
              <td class="text-right"></td>
              <td class="text-right">0</td>
              <td class="text-right">9</td>
              <td class="text-right">10</td>
              <td class="text-right">1</td>
              <td class="text-right">1</td>
          </tr>
          <tr>
              <td>Per-Kristian Helland</td>
              <td class="text-right">7</td>
              <td class="text-right"></td>
              <td class="text-right">4</td>
              <td class="text-right">0</td>
              <td class="text-right">1</td>
              <td class="text-right">1</td>
              <td class="text-right">1</td>
          </tr>
      </table>
  </div>
      <div id="mapid"></div>

      <script>
          const createIcon = (iconColor) =>
              new L.Icon({
                  iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-${iconColor}.png`,
                  shadowUrl:
                      "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
                  iconSize: [11, 20],
                  iconAnchor: [6, 20],
                  popupAnchor: [1, -34],
                  shadowSize: [0, 0],
              });
          const icons = ["gold", "grey", "orange", "blue"].map(createIcon);
          var map = L.map("mapid").setView([51.505, -0.09], 2);
          L.tileLayer(
              "https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",
              {
                  attribution:
                      'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                  maxZoom: 18,
                  id: "mapbox/streets-v11",
                  tileSize: 512,
                  zoomOffset: -1,
                  accessToken:
                      "pk.eyJ1Ijoic2xhc2hwIiwiYSI6ImNrajc2ejVuMzZna2QydnFqNjg2eGx0cDcifQ.0YrOWeCFuS0URH6E1t3qJg",
              }
          ).addTo(map);
          const answer = {"lat":44.89553460470838,"lng":6.634636208225174};
          let guesses = [{"playerName":"Radu C","roundScoreInPoints":4825,"lat":44.41824729243142,"lng":6.1361113151630775},{"playerName":"Kuahs\uD835\uDE5E ","roundScoreInPoints":4766,"lat":45.67257773235627,"lng":6.360866807044001},{"playerName":"Altingwouk","roundScoreInPoints":4867,"lat":45.08620719023634,"lng":6.061433877996308},{"playerName":"The MAYO of \u0412\u043E\u0440\u043A\u0443\u0442\u0430\u0301","roundScoreInPoints":4880,"lat":44.541750038283475,"lng":6.358070496197166},{"playerName":"Topotic ","roundScoreInPoints":4704,"lat":45.09185601699651,"lng":5.223109002985439},{"playerName":"AL Johns - Indianapolis","roundScoreInPoints":4162,"lat":45.624244555979224,"lng":10.85595874484928},{"playerName":"Toris B","roundScoreInPoints":4818,"lat":44.69737758875136,"lng":5.811086150014582},{"playerName":"Kurt","roundScoreInPoints":4866,"lat":45.05067172482429,"lng":6.032986154896491},{"playerName":"Canadian Pole Expert ","roundScoreInPoints":4852,"lat":44.54844846589788,"lng":6.127990986018976},{"playerName":"Apple","roundScoreInPoints":2741,"lat":41.31811530028253,"lng":19.475177005382932},{"playerName":"  \uD835\uDD64\uD835\uDD60\uD835\uDD66\uD835\uDD65\uD835\uDD59\uD835\uDD53\uD835\uDD6A\uD835\uDD56\uD835\uDFDB\uD835\uDFD8\uD835\uDFD8\uD835\uDFD8","roundScoreInPoints":4902,"lat":44.95849008613915,"lng":6.177504977636374},{"playerName":"- \u2119\uD835\uDD60\uD835\uDD5D\uD835\uDD5A\uD835\uDD65\uD835\uDD5A\uD835\uDD69 -","roundScoreInPoints":4411,"lat":43.110801617890694,"lng":8.145111682928928},{"playerName":"Sverre","roundScoreInPoints":4010,"lat":42.81816237233916,"lng":2.42630927898108},{"playerName":"Calzone","roundScoreInPoints":3946,"lat":42.758129328687616,"lng":2.0366935307141665},{"playerName":"Wester Wobbes","roundScoreInPoints":4690,"lat":45.934823969329415,"lng":6.298076766355605},{"playerName":"SUNKEN IS PRETTY","roundScoreInPoints":4846,"lat":44.55693136420837,"lng":6.074203353528503},{"playerName":"Luxlad ","roundScoreInPoints":3805,"lat":42.53998723082041,"lng":1.2413433357472092},{"playerName":"Karl MarXmas","roundScoreInPoints":4397,"lat":46.626515199955,"lng":4.824056193600029},{"playerName":"HugoAlvara2","roundScoreInPoints":4560,"lat":44.98590471117873,"lng":4.471234888951683},{"playerName":":P","roundScoreInPoints":3859,"lat":42.55307495303806,"lng":1.6126788163572936},{"playerName":"Geomane10K","roundScoreInPoints":4727,"lat":45.438258982319134,"lng":7.717035478199421},{"playerName":"The Queen of the UK","roundScoreInPoints":4743,"lat":45.59645312830666,"lng":5.877686003249898},{"playerName":"sunkencity64","roundScoreInPoints":3578,"lat":41.6022124463106,"lng":0.44947662756629825},{"playerName":"Giovanni1798p","roundScoreInPoints":4655,"lat":43.779790111770296,"lng":7.220984854568275},{"playerName":"Nightey","roundScoreInPoints":4785,"lat":44.164270625898524,"lng":6.559351685190213},{"playerName":"AxelBaxel","roundScoreInPoints":4730,"lat":45.81809008911571,"lng":6.562976895950612},{"playerName":"morqk","roundScoreInPoints":4102,"lat":45.46475878505494,"lng":2.0254871239357044},{"playerName":"busstop","roundScoreInPoints":4456,"lat":46.805033586604324,"lng":6.367234224981315},{"playerName":"slashP","roundScoreInPoints":4752,"lat":45.257601098361135,"lng":5.54816072910819},{"playerName":"Damianos_Gz","roundScoreInPoints":4424,"lat":46.926434919451495,"lng":6.35437492005758},{"playerName":"Intense","roundScoreInPoints":1,"lat":-79.71077243439714,"lng":-115.5202082665336},{"playerName":"Per-Kristian Helland","roundScoreInPoints":1,"lat":-29.760633258045413,"lng":143.423146816932}];
          guesses.sort((a, b) => b.roundScoreInPoints - a.roundScoreInPoints);
          guesses.forEach((guess, index) =>
              L.marker([guess.lat, guess.lng], {
                  zIndexOffset: guesses.length - index,
                  icon: icons.slice(index)[0] || [...icons].pop(),
              })
                  .bindPopup(
                      `<b>${guess.playerName}</b><br>${guess.roundScoreInPoints}`
                  )
                  .addTo(map)
          );
          L.marker([answer.lat, answer.lng], {
              zIndexOffset: guesses.length + 100,
              icon: createIcon("green"),
          })
              .bindPopup("<b>Actual location</b>")
              .addTo(map);
      </script>
  </body>
</html>
